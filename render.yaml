services:
  - type: web
    name: django-backend
    runtime: python
    buildCommand: "cd DBMS-PROJECT && pip install -r requirements.txt"
    startCommand: "cd DBMS-PROJECT && python manage.py migrate && gunicorn agricultural_system.wsgi:application --bind 0.0.0.0:$PORT"
    envVars:
      - key: SECRET_KEY
        value: django-insecure-m#l8-yx!f@9j2_b5h$k3n7q&t1w9e*r6p8s-d4g+h2j5k8
      - key: DEBUG
        value: False
      - key: ALLOWED_HOSTS
        value: "*"
      - key: CORS_ALLOWED_ORIGINS
        value: "*"
    plan: starter

  - type: static
    name: frontend
    buildCommand: "cd shadcn-ui && pnpm install && pnpm run build"
    publishDir: shadcn-ui/dist
    envVars:
      - key: VITE_API_URL
        value: https://your-backend-url.onrender.com/api
    plan: starter

databases:
  - name: mysql-db
    databaseName: agricultural_db
    user: admin
    plan: starter